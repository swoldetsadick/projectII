---
title       : Central Limit Theorem Application 
subtitle    : For Common Distribution
author      : Woldetsadick Selam
job         : Data Scientist
framework   : io2012        # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js  # {highlight.js, prettify, highlight}
hitheme     : tomorrow      # 
widgets     : [bootstrap, quiz]            # {mathjax, quiz, bootstrap}
mode        : selfcontained # {standalone, draft}
knit        : slidify::knit2slides
---

<iframe         scrolling="no"         allowTransparency="true" 	frameborder="0" 	width="400" height="225" 	src="http://goanimate.com/player/embed/0LE3RMlcx29E?utm_source=social&utm_medium=tumblr&utm_campaign=usercontent"></iframe>


--- .class #id 

## The Central Limit Theorem
**Central Limit Theorem** states that regardless of the shape of the underlying population of the continuous variable X having a mean &mu;<sub>x</sub> and a standard deviation &theta;<sub>x</sub>, the sampling distribution of the mean formed by taking all possible samples of a given size *n* will more and more closely approximate a normal distribution with mean &mu;<sub>x&#x0304;</sub> = &mu;<sub>x</sub> and a standard error of the mean &theta;<sub>x&#x0304;</sub> = &theta;<sub>x</sub> &frasl; &radic;n as the sample size n increases.<br> This is the most powerful tool at the disposition of statisticians.<br>
<center><figure><img src="http://www.proba.jussieu.fr/pageperso/ramacont/plevy.jpeg"></center>
<figcaption>Paul Lévy (1886 - 1971)</figcaption></figure>

--- .class #id 
## Illustration 
```{r echo =FALSE, fig.height=4, fig.align = 'center'}
library(ggplot2)
set.seed(123)
nosim <- 1000
n1 <- 6
n2 <- 100
df <- 3
a <- matrix(rt((nosim * n1), df), nosim, n1)
b <- apply(a, 1, mean)
c <- round(mean(apply(a, 1, mean)), digits = 2)
d <- 0
e <- sqrt(df/(df - 2))

title <- 'Distribution of Sample Means (Theoretical vs Simulated)'
subtitle <- 'Samples drawn from Student (t) Distribution'

m <- ggplot(data.frame(b), aes(b))
m <- m + geom_histogram(aes(y =..density..), binwidth = (round(max(b)-min(b))/40), color = "black", fill = "white")
m <- m + xlab("Sample Averages") + ylab("Density") + ggtitle(bquote(atop(.(title), atop(italic(.(subtitle)), "")))) 
m <- m + geom_density(col="red", alpha=.2, fill="#FF6666") + theme(plot.title = element_text(size=19,lineheight=.8,vjust=-1))
m <- m + stat_function(fun = dnorm, args = list(mean = d, sd = (e/sqrt(n1))), color = "blue")
m <- m + geom_text(x = Inf, y = Inf, label = paste(paste(paste("Real Mean mu =", d, sep=" "),"\nExpected Value of Averages =", sep=" "), c, sep = " "), hjust = 1, vjust = 1)
m <- m + geom_vline(aes(xintercept = round(mean(data.frame(b)$b), digits = 2)), color = "blue", linetype = "dashed", size = 1)        
print(m)
a <- matrix(rt((nosim * n2), df), nosim, n2)
b <- apply(a, 1, mean)
c <- round(mean(apply(a, 1, mean)), digits = 2)
d <- 0
e <- sqrt(df/(df - 2))

title <- 'Distribution of Sample Means (Theoretical vs Simulated)'
subtitle <- 'Samples drawn from Student (t) Distribution'

m <- ggplot(data.frame(b), aes(b))
m <- m + geom_histogram(aes(y =..density..), binwidth = (round(max(b)-min(b))/40), color = "black", fill = "white")
m <- m + xlab("Sample Averages") + ylab("Density") + ggtitle(bquote(atop(.(title), atop(italic(.(subtitle)), "")))) 
m <- m + geom_density(col="red", alpha=.2, fill="#FF6666") + theme(plot.title = element_text(size=19,lineheight=.8,vjust=-1))
m <- m + stat_function(fun = dnorm, args = list(mean = d, sd = (e/sqrt(n2))), color = "blue")
m <- m + geom_text(x = Inf, y = Inf, label = paste(paste(paste("Real Mean mu =", d, sep=" "),"\nExpected Value of Averages =", sep=" "), c, sep = " "), hjust = 1, vjust = 1)
```
<br><h4>The two figures (up and below) are generated using ggplot2. The plot on this page is generated by simulating n samples from the Student distribution of degrre of freedom 3. And each time the simulation is iterated 1000 times. Then sample averages for each of the 1000 simulations are calculated and a density plot of the distribution of this averages is rendered in red. The expected value of these avearges and the theoritical mean of the distribution from which the samples are simulated are printed on the graph. Additional a dashed blue line shows the center mass of the red density. In red line one can see the density of the CLT corresponding Normal density. In the plot in this page n is set equal to 6.</h4>

--- .class #id 

```{r echo =TRUE, fig.height=4, fig.align = 'center'}
m <- m + geom_vline(aes(xintercept = round(mean(data.frame(b)$b), digits = 2)), color = "blue", linetype = "dashed", size = 1)        
print(m)
```
<h4>In the plot in this page n is set equal to 100. Observe how the density of sample mean distribution in red closely approachs that of the TCL corresponding normal as n increases. Also look at how the expected value of sample averages approachs the theoritical mean of the distribution from which the samples are drawn from. <b>This is a perfect illustration of the CLT.</b> <br>
Play around with parameters of some common distribution to see their effect on the efficiency of normal approximation by Central Limit Theorem on the following website.<br></h4>
<https://swoldetsadick.shinyapps.io/COURDDPPRO1/> 




